<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[关于Dalston.SR3版本的spring cloud，用feign客户端调用服务hystrix不能生效的问题]]></title>
      <url>/2017/10/13/%E5%85%B3%E4%BA%8EDalston.SR3%E7%89%88%E6%9C%AC%E7%9A%84spring%20cloud%EF%BC%8C%E7%94%A8feign%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%B0%83%E7%94%A8%E6%9C%8D%E5%8A%A1hystrix%E4%B8%8D%E8%83%BD%E7%94%9F%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>这两天公司让学习spring cloud,我在项目中用的springcloud版本是Dalston.SR3版本。当我在学习用feign客户端做断路器的时候，发现feign客户端并没有降级去调用回调类，而抛出这样的错误。<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">com.netflix.client.ClientException: Load balancer does not have available server for client: hello-service</div></pre></td></tr></table></figure></p>
<p>原因是这个版本的spring cloud是默认关闭Hystrix的断路器功能，解决办法：</p>
<ul>
<li>如果你的配置文件用的是yml文件，在文件加如下配置：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">feign:</div><div class="line">  hystrix:</div><div class="line">    enabled: true</div></pre></td></tr></table></figure>
<ul>
<li>如果你的配置文件用的是properties文件，在文件加如下配置：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">feign.hystrix.enabled=true</div></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> spring cloud </category>
            
        </categories>
        
        
        <tags>
            
            <tag> spring cloud </tag>
            
            <tag> dalston sr3 </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
